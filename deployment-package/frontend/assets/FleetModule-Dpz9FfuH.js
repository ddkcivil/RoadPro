import{c as W,r as u,j as e,B as h,P as Ne,n as S,ah as _,aA as ee,aZ as H,O as be,G as se,J as ae,a_ as te,ab as ye,Q as fe,v as we,w as ke,x as E,y as z,z as Se,A as T,D as R,e as V,f as B,h as G,K as n,I as j,V as y,W as f,X as w,Y as k,Z as l,k as P,a8 as q,a6 as Te,a0 as Ce,aN as Ke}from"./index-CewaSTRD.js";import{T as De,a as Ae,b as le}from"./tabs-b2piEQ7z.js";import{H as Ie}from"./history-DhVPXOxI.js";import{D as ze}from"./droplets-CO2bCLy5.js";import{C as Fe}from"./clock-CdXHNXMZ.js";import{S as Le}from"./shield-check-BgAnWJJY.js";import{S as re}from"./save-CV1km07e.js";import{C as Me}from"./circle-check-ClQeHiCK.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=W("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=W("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=W("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),Je=({project:m,onProjectUpdate:C,userRole:Ee})=>{var X,Z,J,Q,Y;const[Re,Ve]=u.useState(0),g=m.vehicles||[],K=m.vehicleLogs||[],[D,$]=u.useState(((X=g[0])==null?void 0:X.id)||null),[O,U]=u.useState("0"),[ne,F]=u.useState(!1),[ce,L]=u.useState(!1),[de,M]=u.useState(!1),[oe,Be]=u.useState(!1),x=g.find(s=>s.id===D),N=u.useMemo(()=>K.filter(s=>s.vehicleId===D).sort((s,r)=>new Date(r.date).getTime()-new Date(s.date).getTime()),[K,D]),[i,b]=u.useState({plateNumber:"",type:"Tipper Truck",driver:"",status:"Active"}),[a,v]=u.useState(null),[t,p]=u.useState({date:new Date().toISOString().split("T")[0],startKm:0,endKm:0,fuelConsumed:0,workingHours:0,activityDescription:""}),xe=()=>{b({plateNumber:"",type:"Tipper Truck",driver:"",status:"Active"}),F(!0)},me=s=>{v({id:s.id,plateNumber:s.plateNumber,type:s.type,driver:s.driver,status:s.status,geofenceStatus:s.geofenceStatus,agencyId:s.agencyId}),M(!0)},ue=()=>{var c,d;if(!((c=i.plateNumber)!=null&&c.trim())){alert("Plate number is required");return}if(!((d=i.driver)!=null&&d.trim())){alert("Driver name is required");return}if(g.find(o=>{var A,I;return((A=o.plateNumber)==null?void 0:A.toLowerCase())===((I=i.plateNumber)==null?void 0:I.toLowerCase())})&&!confirm(`A vehicle with plate number '${i.plateNumber}' already exists. Do you want to add it anyway?`))return;const r={...i,id:`v-${Date.now()}`,status:i.status||"Active",geofenceStatus:i.geofenceStatus||"Inside",agencyId:i.agencyId||void 0};C({...m,vehicles:[...g,r]}),F(!1),b({plateNumber:"",type:"Tipper Truck",driver:"",status:"Active"})},he=()=>{var c,d;if(!(a!=null&&a.id))return;if(!((c=a.plateNumber)!=null&&c.trim())){alert("Plate number is required");return}if(!((d=a.driver)!=null&&d.trim())){alert("Driver name is required");return}if(g.find(o=>{var A,I;return((A=o.plateNumber)==null?void 0:A.toLowerCase())===((I=a.plateNumber)==null?void 0:I.toLowerCase())&&o.id!==a.id})&&!confirm(`A vehicle with plate number '${a.plateNumber}' already exists. Do you want to update anyway?`))return;const r=g.map(o=>o.id===a.id?{...o,plateNumber:a.plateNumber,type:a.type,driver:a.driver,status:a.status,geofenceStatus:a.geofenceStatus,agencyId:o.agencyId}:o);C({...m,vehicles:r}),M(!1),v(null)},pe=s=>{var r;if(window.confirm("Are you sure you want to delete this vehicle? This will also delete all associated trip logs.")){const c=g.filter(o=>o.id!==s),d=K.filter(o=>o.vehicleId!==s);C({...m,vehicles:c,vehicleLogs:d}),D===s&&$(((r=c[0])==null?void 0:r.id)||null)}},je=()=>{if(!x||!t.endKm||t.endKm<(t.startKm||0)){alert("Please check odometer readings. End KM must be greater than Start KM.");return}const s=Number(t.endKm)-Number(t.startKm||0),r={...t,id:`vl-${Date.now()}`,vehicleId:x.id,plateNumber:x.plateNumber,totalKm:s,date:t.date,startKm:Number(t.startKm),endKm:Number(t.endKm),fuelConsumed:Number(t.fuelConsumed),workingHours:Number(t.workingHours),activityDescription:t.activityDescription||"Daily work"};C({...m,vehicleLogs:[...K,r]}),L(!1),p({date:new Date().toISOString().split("T")[0],startKm:0,endKm:0,fuelConsumed:0,workingHours:0,activityDescription:""})},ge=s=>{if(window.confirm("Are you sure you want to delete this trip log?")){const r=K.filter(c=>c.id!==s);C({...m,vehicleLogs:r})}},ve=()=>{const s=N[0];p({...t,startKm:s?s.endKm:0,endKm:s?s.endKm:0}),L(!0)};return e.jsxs("div",{className:"animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-extrabold",children:"Fleet & Equipment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time telematics & utilization"})]}),e.jsxs(h,{onClick:xe,className:"px-3 py-1.5",children:[e.jsx(Ne,{size:16,className:"mr-2"})," Register Plant"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[e.jsx("div",{className:"col-span-12 md:col-span-4",children:e.jsx("div",{className:"flex flex-col space-y-3",children:g.map(s=>{var r,c;return e.jsx(S,{onClick:()=>{$(s.id),U("0")},className:`cursor-pointer rounded-xl transition-all duration-200 border-l-[6px] 
                                ${s.status==="Active"?"border-green-500":"border-amber-500"}
                                ${D===s.id?"bg-indigo-50/20 border-primary":"bg-white border-border"}`,children:e.jsxs("div",{className:"p-3 flex items-center gap-3",children:[e.jsx(_,{className:"bg-slate-100 text-slate-600",children:e.jsx(ee,{children:e.jsx(H,{size:20})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold",children:s.plateNumber}),e.jsx("p",{className:"text-xs text-gray-500",children:s.type}),e.jsx("p",{className:"text-xs text-primary",children:s.agencyId?((c=(r=m.agencies)==null?void 0:r.find(d=>d.id===s.agencyId))==null?void 0:c.name)||"Unknown Agency":"Unassigned"})]}),e.jsx(be,{variant:"outline",className:"text-[8px] h-4 px-1",children:s.status}),e.jsx(h,{size:"sm",variant:"ghost",onClick:d=>{d.stopPropagation(),me(s)},children:e.jsx(se,{size:14})}),e.jsx(h,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600",onClick:d=>{d.stopPropagation(),pe(s.id)},children:e.jsx(ae,{size:14})})]})},s.id)})})}),e.jsx("div",{className:"col-span-12 md:col-span-8",children:x?e.jsx("div",{className:"flex flex-col space-y-6",children:e.jsxs(S,{className:"p-6 rounded-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_,{className:"w-14 h-14 bg-primary",children:e.jsx(ee,{children:e.jsx(H,{size:28})})}),e.jsxs("div",{children:[e.jsx("h6",{className:"text-lg font-extrabold",children:x.plateNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Operator: ",e.jsx("b",{children:x.driver})]}),e.jsxs("p",{className:"text-sm text-primary",children:["Agency: ",e.jsx("b",{children:x.agencyId?((J=(Z=m.agencies)==null?void 0:Z.find(s=>s.id===x.agencyId))==null?void 0:J.name)||"Unknown Agency":"Unassigned"})]})]})]}),e.jsxs(h,{variant:"secondary",onClick:ve,children:[e.jsx(te,{size:16,className:"mr-2"})," Log Trip / Work"]})]}),e.jsx(De,{value:O,onValueChange:U,className:"mb-6 border-b",children:e.jsxs(Ae,{children:[e.jsxs(le,{value:"0",className:"flex items-center gap-2",children:[e.jsx(ie,{size:18})," Summary"]}),e.jsxs(le,{value:"1",className:"flex items-center gap-2",children:[e.jsx(Ie,{size:18})," Trip History"]})]})}),O==="0"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(S,{className:"text-center p-4",children:[e.jsx(ie,{size:16,className:"mx-auto mb-1"}),e.jsx("p",{className:"text-base font-bold",children:N.reduce((s,r)=>s+r.totalKm,0).toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Km"})]}),e.jsxs(S,{className:"text-center p-4",children:[e.jsx(ze,{size:16,className:"text-emerald-500 mx-auto mb-1"}),e.jsxs("p",{className:"text-base font-bold",children:[N.length>0?N[0].fuelConsumed:"0","L"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Last Fuel"})]}),e.jsxs(S,{className:"text-center p-4",children:[e.jsx(Fe,{size:16,className:"text-amber-500 mx-auto mb-1"}),e.jsxs("p",{className:"text-base font-bold",children:[N.reduce((s,r)=>s+r.workingHours,0).toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Use"})]}),e.jsxs(S,{className:"text-center p-4",children:[e.jsx(ye,{size:16,className:"text-rose-500 mx-auto mb-1"}),e.jsx("p",{className:"text-base font-bold",children:x.geofenceStatus||"Inside"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Geofence"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("p",{className:"text-sm font-bold mb-4 flex items-center gap-1",children:[e.jsx(Le,{size:18,className:"text-indigo-600"})," HEALTH STATUS"]}),e.jsx(fe,{className:"my-4"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-xs font-bold",children:"Engine Performance"}),e.jsx("p",{className:"text-xs font-bold",children:"95%"})]}),e.jsx("div",{className:"relative w-full h-1.5 bg-gray-200 rounded-full",children:e.jsx("div",{className:"absolute h-full bg-green-500 rounded-full",style:{width:"95%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-xs font-bold",children:"Service Due"}),e.jsx("p",{className:"text-xs font-bold",children:"32 Days"})]}),e.jsx("div",{className:"relative w-full h-1.5 bg-gray-200 rounded-full",children:e.jsx("div",{className:"absolute h-full bg-amber-500 rounded-full",style:{width:"30%"}})})]})]})]}),O==="1"&&e.jsx("div",{children:e.jsxs(we,{children:[e.jsx(ke,{className:"bg-slate-50",children:e.jsxs(E,{children:[e.jsx(z,{className:"font-bold",children:"Date"}),e.jsx(z,{className:"font-bold",children:"Activity / Task"}),e.jsx(z,{className:"font-bold",children:"Range (Km)"}),e.jsx(z,{className:"font-bold",children:"Total"}),e.jsx(z,{className:"text-right font-bold",children:"Fuel (L)"})]})}),e.jsxs(Se,{children:[N.map(s=>e.jsxs(E,{children:[e.jsx(T,{className:"whitespace-nowrap text-xs",children:s.date}),e.jsx(T,{children:e.jsx("p",{className:"text-sm font-medium",children:s.activityDescription})}),e.jsx(T,{children:e.jsxs("p",{className:"font-mono text-xs",children:[s.startKm," - ",s.endKm]})}),e.jsx(T,{children:e.jsxs("p",{className:"text-sm font-bold text-primary",children:[s.totalKm," Km"]})}),e.jsx(T,{align:"right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx("p",{className:"text-sm",children:s.fuelConsumed}),e.jsx(Oe,{size:12,className:"text-slate-400"}),e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>ge(s.id),children:e.jsx(ae,{size:14})})]})})]},s.id)),N.length===0&&e.jsx(E,{children:e.jsx(T,{colSpan:5,className:"py-10 text-center",children:e.jsx("p",{className:"text-gray-400",children:"No logs found for this asset."})})})]})]})})]})}):e.jsxs("div",{className:"py-20 text-center text-gray-400",children:[e.jsx(He,{size:60,className:"opacity-10 mb-4 mx-auto"}),e.jsx("h6",{className:"text-lg",children:"Select an asset to view telemetry"})]})})]}),e.jsx(R,{open:ne,onOpenChange:F,children:e.jsxs(V,{className:"sm:max-w-[425px] p-0 rounded-xl",children:[e.jsx(B,{className:"bg-primary text-white p-4 rounded-t-xl",children:e.jsxs(G,{className:"text-white flex items-center gap-2",children:[e.jsx(H,{size:20})," Register Asset"]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(n,{htmlFor:"new-plate-number",children:"Plate Number"}),e.jsx(j,{id:"new-plate-number",value:i.plateNumber||"",onChange:s=>b({...i,plateNumber:s.target.value}),placeholder:"e.g. Ba 2 Kha 1234"}),e.jsx(n,{htmlFor:"new-driver",children:"Driver Name"}),e.jsx(j,{id:"new-driver",value:i.driver||"",onChange:s=>b({...i,driver:s.target.value}),placeholder:"e.g. Ram Bahadur"}),e.jsx(n,{htmlFor:"new-type",children:"Type"}),e.jsxs(y,{value:i.type,onValueChange:s=>b({...i,type:s}),children:[e.jsx(f,{id:"new-type",children:e.jsx(w,{placeholder:"Select type"})}),e.jsxs(k,{children:[e.jsx(l,{value:"Tipper Truck",children:"Tipper Truck"}),e.jsx(l,{value:"Excavator",children:"Excavator"}),e.jsx(l,{value:"Motor Grader",children:"Motor Grader"}),e.jsx(l,{value:"Water Tanker",children:"Water Tanker"}),e.jsx(l,{value:"Roller",children:"Static Roller"})]})]}),e.jsx(n,{htmlFor:"new-status",children:"Status"}),e.jsxs(y,{value:i.status,onValueChange:s=>b({...i,status:s}),children:[e.jsx(f,{id:"new-status",children:e.jsx(w,{placeholder:"Select status"})}),e.jsxs(k,{children:[e.jsx(l,{value:"Active",children:"Active"}),e.jsx(l,{value:"Maintenance",children:"Maintenance"}),e.jsx(l,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(n,{htmlFor:"new-agency",children:"Assigned Agency/Contractor"}),e.jsxs(y,{value:i.agencyId||"",onValueChange:s=>b({...i,agencyId:s===""?void 0:s}),children:[e.jsx(f,{id:"new-agency",children:e.jsx(w,{placeholder:"Select an agency"})}),e.jsxs(k,{children:[e.jsx(l,{value:"",children:"None"}),(Q=m.agencies)==null?void 0:Q.filter(s=>s.type==="agency"||s.type==="subcontractor").map(s=>e.jsx(l,{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs(P,{className:"bg-gray-50 px-4 py-3 sm:px-6 rounded-b-xl flex justify-end gap-2",children:[e.jsxs(h,{variant:"outline",onClick:()=>F(!1),children:[e.jsx(q,{size:16,className:"mr-2"})," Cancel"]}),e.jsxs(h,{onClick:ue,children:[e.jsx(re,{size:16,className:"mr-2"})," Save Asset"]})]})]})}),e.jsx(R,{open:de,onOpenChange:M,children:e.jsxs(V,{className:"sm:max-w-[425px] p-0 rounded-xl",children:[e.jsx(B,{className:"bg-primary text-white p-4 rounded-t-xl",children:e.jsxs(G,{className:"text-white flex items-center gap-2",children:[e.jsx(se,{size:20})," Edit Asset"]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(n,{htmlFor:"edit-plate-number",children:"Plate Number"}),e.jsx(j,{id:"edit-plate-number",value:(a==null?void 0:a.plateNumber)||"",onChange:s=>v({...a,plateNumber:s.target.value}),placeholder:"e.g. Ba 2 Kha 1234"}),e.jsx(n,{htmlFor:"edit-driver",children:"Driver Name"}),e.jsx(j,{id:"edit-driver",value:(a==null?void 0:a.driver)||"",onChange:s=>v({...a,driver:s.target.value}),placeholder:"e.g. Ram Bahadur"}),e.jsx(n,{htmlFor:"edit-type",children:"Type"}),e.jsxs(y,{value:(a==null?void 0:a.type)||"Tipper Truck",onValueChange:s=>v({...a,type:s}),children:[e.jsx(f,{id:"edit-type",children:e.jsx(w,{placeholder:"Select type"})}),e.jsxs(k,{children:[e.jsx(l,{value:"Tipper Truck",children:"Tipper Truck"}),e.jsx(l,{value:"Excavator",children:"Excavator"}),e.jsx(l,{value:"Motor Grader",children:"Motor Grader"}),e.jsx(l,{value:"Water Tanker",children:"Water Tanker"}),e.jsx(l,{value:"Roller",children:"Static Roller"})]})]}),e.jsx(n,{htmlFor:"edit-status",children:"Status"}),e.jsxs(y,{value:(a==null?void 0:a.status)||"Active",onValueChange:s=>v({...a,status:s}),children:[e.jsx(f,{id:"edit-status",children:e.jsx(w,{placeholder:"Select status"})}),e.jsxs(k,{children:[e.jsx(l,{value:"Active",children:"Active"}),e.jsx(l,{value:"Maintenance",children:"Maintenance"}),e.jsx(l,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(n,{htmlFor:"edit-geofence-status",children:"Geofence Status"}),e.jsxs(y,{value:(a==null?void 0:a.geofenceStatus)||"Inside",onValueChange:s=>v({...a,geofenceStatus:s}),children:[e.jsx(f,{id:"edit-geofence-status",children:e.jsx(w,{placeholder:"Select status"})}),e.jsxs(k,{children:[e.jsx(l,{value:"Inside",children:"Inside"}),e.jsx(l,{value:"Outside",children:"Outside"})]})]}),e.jsx(n,{htmlFor:"edit-agency",children:"Assigned Agency/Contractor"}),e.jsxs(y,{value:(a==null?void 0:a.agencyId)||"",onValueChange:s=>v({...a,agencyId:s===""?void 0:s}),children:[e.jsx(f,{id:"edit-agency",children:e.jsx(w,{placeholder:"Select an agency"})}),e.jsxs(k,{children:[e.jsx(l,{value:"",children:"None"}),(Y=m.agencies)==null?void 0:Y.filter(s=>s.type==="agency"||s.type==="subcontractor").map(s=>e.jsx(l,{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs(P,{className:"bg-gray-50 px-4 py-3 sm:px-6 rounded-b-xl flex justify-end gap-2",children:[e.jsxs(h,{variant:"outline",onClick:()=>M(!1),children:[e.jsx(q,{size:16,className:"mr-2"})," Cancel"]}),e.jsxs(h,{onClick:he,children:[e.jsx(re,{size:16,className:"mr-2"})," Update Asset"]})]})]})}),e.jsx(R,{open:ce,onOpenChange:L,children:e.jsxs(V,{className:"sm:max-w-xl p-0 rounded-xl",children:[e.jsx(B,{className:"bg-primary text-white p-4 rounded-t-xl",children:e.jsxs(G,{className:"text-white flex items-center gap-2",children:[e.jsx(te,{size:20})," Log Trip: ",x==null?void 0:x.plateNumber]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{htmlFor:"trip-date",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"trip-date",type:"date",value:t.date,onChange:s=>p({...t,date:s.target.value}),className:"pl-8"}),e.jsx(Te,{size:16,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400"})]}),e.jsx(n,{htmlFor:"start-odometer",children:"Start Odometer"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"start-odometer",type:"number",value:t.startKm,onChange:s=>p({...t,startKm:Number(s.target.value)}),className:"pr-8"}),e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400",children:"Km"})]}),e.jsx(n,{htmlFor:"end-odometer",children:"End Odometer"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"end-odometer",type:"number",value:t.endKm,onChange:s=>p({...t,endKm:Number(s.target.value)}),className:"pr-8"}),e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400",children:"Km"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Calculated: ",Number(t.endKm||0)-Number(t.startKm||0)," Km"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{htmlFor:"fuel-consumed",children:"Fuel Consumed"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"fuel-consumed",type:"number",value:t.fuelConsumed,onChange:s=>p({...t,fuelConsumed:Number(s.target.value)}),className:"pr-8"}),e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400",children:"Liters"})]}),e.jsx(n,{htmlFor:"working-hours",children:"Working Hours"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"working-hours",type:"number",value:t.workingHours,onChange:s=>p({...t,workingHours:Number(s.target.value)}),className:"pr-8"}),e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400",children:"Hrs"})]}),e.jsx(n,{htmlFor:"activity-description",children:"Activity / Task / Location"}),e.jsx("textarea",{id:"activity-description",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:t.activityDescription,onChange:s=>p({...t,activityDescription:s.target.value}),placeholder:"e.g. Shifting GSB KM 12-14",rows:1})]})]}),e.jsx("div",{className:"col-span-12 mt-6",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-blue-800 bg-blue-50 border-blue-200",children:[e.jsx(Ke,{size:18}),"This log will be appended to the asset's utilization history for operational reporting."]})})]}),e.jsxs(P,{className:"bg-gray-50 px-4 py-3 sm:px-6 rounded-b-xl flex justify-end gap-2",children:[e.jsxs(h,{variant:"outline",onClick:()=>{L(!1),p({date:new Date().toISOString().split("T")[0],startKm:0,endKm:0,fuelConsumed:0,workingHours:0,activityDescription:""})},children:[e.jsx(q,{size:16,className:"mr-2"})," Back"]}),e.jsxs(h,{onClick:je,children:[e.jsx(Me,{size:16,className:"mr-2"})," Commit Trip Record"]})]})]})}),oe&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-md shadow-lg z-50",children:"Opening full trip log history report..."})]})};export{Je as default};
