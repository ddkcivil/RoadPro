import{r as o,j as e,B as s,ac as f,ad as Pe,a6 as me,ax as Fe,u as Be,V as k,E as Oe,aG as Ee,n as d,t as c,v as w,y as N,x as m,A as n,z as A,C as O,P as z,D as Me,h as qe,e as He,aF as E}from"./index-CewaSTRD.js";import{T as Je}from"./tabs-b2piEQ7z.js";import{C as pe}from"./clock-CdXHNXMZ.js";import{C as ge}from"./circle-x-BmcPxhfw.js";import{S as $e}from"./save-CV1km07e.js";const Ke=()=>{const[x,je]=o.useState(0),[y,M]=o.useState([]),[W,q]=o.useState([]),[T,ye]=o.useState([]),[S,fe]=o.useState([]),[C,ve]=o.useState([]),[I,be]=o.useState([]),[v,Te]=o.useState([]),[Se,H]=o.useState([]),[J,$]=o.useState([]),[Y,V]=o.useState([]),[U,Q]=o.useState([]),[X,K]=o.useState([]),[Z,_]=o.useState([]),[ee,te]=o.useState([]),[h,Ce]=o.useState(""),[u,Ie]=o.useState("All"),[We,L]=o.useState(!1),[De,P]=o.useState(!1),[b,F]=o.useState(0),[we,Ne]=o.useState(!0),[l,p]=o.useState({employeeId:"",employeeName:"",department:"",designation:"",leaveType:"Annual",startDate:"",endDate:"",reason:"",workHandoverTo:"",alternateContact:""}),[r,ne]=o.useState({employeeName:"",designation:"",department:"",workStation:"Drainage, Road, Footpath and Road Furniture Works ‚Äì Tilottama Municipality",gender:"",nationality:"",permanentAddress:"",temporaryAddress:"",dateOfBirth:"",maritalStatus:"",bloodGroup:"",religion:"",personalMobile:"",emailAddress:"",emergencyContactPerson:"",emergencyContactNumber:"",qualifications:[],workExperience:[],bankAccountName:"",bankAccountNumber:"",bankName:"",panNumber:"",nationalId:"",pfNumber:"",pfBranch:"",citNumber:"",citBranch:"",retirementAccount:"",retirementBank:"",ssfNumber:"",citizenshipDocument:"citizenship",citizenshipIssueDistrict:"",citizenshipIssueOffice:"",citizenshipIssueDate:"",citizenshipNumber:"",drivingLicenseDate:"",drivingLicenseNumber:"",drivingLicenseCategory:"",vehicleType:"",vehicleNumber:"",previousEmployerLetter:!1,nomineeName:"",nomineeRelation:"",nomineeContact:"",nomineePermanentAddress:"",nomineeTemporaryAddress:"",nomineeDocument:"citizenship",nomineeIssueDistrict:"",nomineeIssueOffice:"",nomineeIssueDate:"",nomineeNumber:"",isSingle:!1,isMarried:!1,numberOfSons:0,numberOfDaughters:0,numberOfDependents:0,employeeSignature:"",signatureDate:"",acceptsICTTerms:!1,orientationCompleted:!1,introductionToTeam:!1,otherOrientation:"",laptopIssued:!1,laptopBrand:"",mobileIssued:!1,mobileDetails:"",emailIssued:!1,hrisAccess:!1,basicSalary:"",allowances:"",id:"",joinedDate:"",status:"Active"}),B=["Basic Information","Education","Work Experience","Banking Details","Nominee Info","Declarations","ICT Terms","Induction","Office Setup"];o.useEffect(()=>{(async()=>{try{let i=[];try{i=await E.getLeaveRequests()}catch(xe){console.warn("API for leave requests failed, falling back to localStorage:",xe);const ue=localStorage.getItem("staff-leave-requests");i=ue?JSON.parse(ue):[]}M(i),H(i);const g=localStorage.getItem("staff-employees"),j=g?JSON.parse(g):[];q(j),$(j);const D=localStorage.getItem("staff-performance"),G=D?JSON.parse(D):[];ye(G),V(G);const R=localStorage.getItem("staff-attendance"),ae=R?JSON.parse(R):[];fe(ae),Q(ae);const se=localStorage.getItem("staff-salaries"),le=se?JSON.parse(se):[];ve(le),K(le);const oe=localStorage.getItem("staff-training"),de=oe?JSON.parse(oe):[];be(de),_(de);const ce=localStorage.getItem("staff-evaluations"),he=ce?JSON.parse(ce):[];Te(he),te(he)}catch(i){console.error("Error loading staff data:",i)}finally{Ne(!1)}})()},[]),o.useEffect(()=>{if(x===0){let t=[...y];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.employeeId.toLowerCase().includes(h.toLowerCase()))),u!=="All"&&(t=t.filter(i=>i.status===u)),H(t)}else if(x===1){let t=[...W];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.department.toLowerCase().includes(h.toLowerCase()))),$(t)}else if(x===2){let t=[...T];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.period.toLowerCase().includes(h.toLowerCase()))),V(t)}else if(x===3){let t=[...S];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.date.includes(h))),u!=="All"&&(t=t.filter(i=>i.status===u)),Q(t)}else if(x===4){let t=[...C];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.payPeriod.toLowerCase().includes(h.toLowerCase()))),u!=="All"&&(t=t.filter(i=>i.status===u)),K(t)}else if(x===5){let t=[...I];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.courseName.toLowerCase().includes(h.toLowerCase()))),u!=="All"&&(t=t.filter(i=>i.status===u)),_(t)}else if(x===6){let t=[...v];h&&(t=t.filter(i=>i.employeeName.toLowerCase().includes(h.toLowerCase())||i.evaluator.toLowerCase().includes(h.toLowerCase()))),u!=="All"&&(t=t.filter(i=>i.status===u)),te(t)}},[y,W,T,S,C,I,v,h,u,x]);const ie=async t=>{if(t.preventDefault(),!l.employeeId||!l.employeeName){alert("Employee ID and Name are required");return}if(!l.startDate||!l.endDate){alert("Start date and End date are required");return}const i=new Date(l.startDate),g=new Date(l.endDate);if(i>g){alert("Start date cannot be after end date");return}const j=Math.ceil((g.getTime()-i.getTime())/(1e3*60*60*24))+1;try{const D={id:`leave-${Date.now()}`,...l,numberOfDays:j,status:"Pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},G=[...y,D];localStorage.setItem("staff-leave-requests",JSON.stringify(G)),M(G);try{await E.createLeaveRequest(D)}catch(R){console.warn("API save failed for leave request, using localStorage only:",R)}p({employeeId:"",employeeName:"",department:"",designation:"",leaveType:"Annual",startDate:"",endDate:"",reason:"",workHandoverTo:"",alternateContact:""}),L(!1)}catch{alert("Failed to submit leave request")}},re=async(t,i)=>{try{const g=y.map(j=>j.id===t?{...j,status:i,updatedAt:new Date().toISOString()}:j);localStorage.setItem("staff-leave-requests",JSON.stringify(g));try{await E.updateLeaveRequest(t,{status:i})}catch(j){console.warn("API update failed for leave request, using localStorage only:",j)}alert(`Leave request ${i.toLowerCase()} successfully`)}catch{alert(`Failed to ${i.toLowerCase()} leave request`)}},a=(t,i)=>{ne(g=>({...g,[t]:i}))},Ae=()=>{b<B.length-1&&F(b+1)},Ge=()=>{b>0&&F(b-1)},ze=()=>{const t={id:`emp-${Date.now()}`,...r,joinedDate:new Date().toISOString(),status:"Active"},i=[...W,t];localStorage.setItem("staff-employees",JSON.stringify(i)),q(i),ne({employeeName:"",designation:"",department:"",workStation:"Drainage, Road, Footpath and Road Furniture Works ‚Äì Tilottama Municipality",gender:"",nationality:"",permanentAddress:"",temporaryAddress:"",dateOfBirth:"",maritalStatus:"",bloodGroup:"",religion:"",personalMobile:"",emailAddress:"",emergencyContactPerson:"",emergencyContactNumber:"",qualifications:[],workExperience:[],bankAccountName:"",bankAccountNumber:"",bankName:"",panNumber:"",nationalId:"",pfNumber:"",pfBranch:"",citNumber:"",citBranch:"",retirementAccount:"",retirementBank:"",ssfNumber:"",citizenshipDocument:"citizenship",citizenshipIssueDistrict:"",citizenshipIssueOffice:"",citizenshipIssueDate:"",citizenshipNumber:"",drivingLicenseDate:"",drivingLicenseNumber:"",drivingLicenseCategory:"",vehicleType:"",vehicleNumber:"",previousEmployerLetter:!1,nomineeName:"",nomineeRelation:"",nomineeContact:"",nomineePermanentAddress:"",nomineeTemporaryAddress:"",nomineeDocument:"citizenship",nomineeIssueDistrict:"",nomineeIssueOffice:"",nomineeIssueDate:"",nomineeNumber:"",isSingle:!1,isMarried:!1,numberOfSons:0,numberOfDaughters:0,numberOfDependents:0,employeeSignature:"",signatureDate:"",acceptsICTTerms:!1,orientationCompleted:!1,introductionToTeam:!1,otherOrientation:"",laptopIssued:!1,laptopBrand:"",mobileIssued:!1,mobileDetails:"",emailIssued:!1,hrisAccess:!1,basicSalary:"",allowances:"",id:"",joinedDate:"",status:"Active"}),F(0),P(!1)},Le=t=>{switch(t){case"Approved":return e.jsx(O,{size:16});case"Rejected":return e.jsx(ge,{size:16});case"Pending":return e.jsx(pe,{size:16});default:return e.jsx(f,{size:16})}},Re=t=>{switch(t){case"Approved":return"success";case"Rejected":return"error";case"Pending":return"warning";default:return"default"}},ke=()=>{switch(b){case 0:return e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Basic Information"})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"Employee Name",value:r.employeeName,onChange:t=>a("employeeName",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Designation",value:r.designation,onChange:t=>a("designation",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Department",value:r.department,onChange:t=>a("department",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Work Station/Location",value:r.workStation,onChange:t=>a("workStation",t.target.value),multiline:!0,rows:2})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{children:"Gender"}),e.jsxs(k,{value:r.gender,label:"Gender",onChange:t=>a("gender",t.target.value),children:[e.jsx(MenuItem,{value:"Male",children:"Male"}),e.jsx(MenuItem,{value:"Female",children:"Female"}),e.jsx(MenuItem,{value:"Other",children:"Other"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Nationality",value:r.nationality,onChange:t=>a("nationality",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Date of Birth",type:"date",InputLabelProps:{shrink:!0},value:r.dateOfBirth,onChange:t=>a("dateOfBirth",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{children:"Marital Status"}),e.jsxs(k,{value:r.maritalStatus,label:"Marital Status",onChange:t=>a("maritalStatus",t.target.value),children:[e.jsx(MenuItem,{value:"Single",children:"Single"}),e.jsx(MenuItem,{value:"Married",children:"Married"}),e.jsx(MenuItem,{value:"Divorced",children:"Divorced"}),e.jsx(MenuItem,{value:"Widowed",children:"Widowed"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Blood Group",value:r.bloodGroup,onChange:t=>a("bloodGroup",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Religion",value:r.religion,onChange:t=>a("religion",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Personal Mobile Number",value:r.personalMobile,onChange:t=>a("personalMobile",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Email Address",type:"email",value:r.emailAddress,onChange:t=>a("emailAddress",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Emergency Contact Person",value:r.emergencyContactPerson,onChange:t=>a("emergencyContactPerson",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Emergency Contact Number",value:r.emergencyContactNumber,onChange:t=>a("emergencyContactNumber",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{fullWidth:!0,label:"Permanent Address",multiline:!0,rows:2,value:r.permanentAddress,onChange:t=>a("permanentAddress",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{fullWidth:!0,label:"Temporary Address",multiline:!0,rows:2,value:r.temporaryAddress,onChange:t=>a("temporaryAddress",t.target.value)})})]});case 1:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Educational Qualifications"}),e.jsx(Typography,{variant:"body2",color:"text.secondary",mb:3,children:"Add educational qualifications in chronological order (highest qualification first)"}),e.jsx(Typography,{variant:"body1",textAlign:"center",color:"text.secondary",mt:4,children:"Education qualification form fields would be implemented here"})]});case 2:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Work Experience Summary"}),e.jsx(Typography,{variant:"body2",color:"text.secondary",mb:3,children:"List previous work experience starting with the most recent"}),e.jsx(Typography,{variant:"body1",textAlign:"center",color:"text.secondary",mt:4,children:"Work experience form fields would be implemented here"})]});case 3:return e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsxs(Grid,{item:!0,xs:12,children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Banking Information"}),e.jsx(Typography,{variant:"body2",color:"text.secondary",mb:3,children:"Please provide accurate banking details for salary processing"})]}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Bank Account Name",value:r.bankAccountName,onChange:t=>a("bankAccountName",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Bank Account Number",value:r.bankAccountNumber,onChange:t=>a("bankAccountNumber",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Bank Name",value:r.bankName,onChange:t=>a("bankName",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"PAN Number",value:r.panNumber,onChange:t=>a("panNumber",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"National ID No",value:r.nationalId,onChange:t=>a("nationalId",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Provident Fund (PF) Number",value:r.pfNumber,onChange:t=>a("pfNumber",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"PF Contribution Branch",value:r.pfBranch,onChange:t=>a("pfBranch",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"CIT Number",value:r.citNumber,onChange:t=>a("citNumber",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"CIT Contribution Branch",value:r.citBranch,onChange:t=>a("citBranch",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Retirement Account Number",value:r.retirementAccount,onChange:t=>a("retirementAccount",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Retirement Fund Bank",value:r.retirementBank,onChange:t=>a("retirementBank",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"SSF Number",value:r.ssfNumber,onChange:t=>a("ssfNumber",t.target.value)})})]});case 4:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Nominee Information"}),e.jsx(Typography,{variant:"body2",color:"text.secondary",mb:3,children:"Please provide details of your nominee for emergency purposes"}),e.jsx(Typography,{variant:"body1",textAlign:"center",color:"text.secondary",mt:4,children:"Nominee information form fields would be implemented here"})]});case 5:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Couple Declaration"}),e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Number of Sons",type:"number",value:r.numberOfSons,onChange:t=>a("numberOfSons",parseInt(t.target.value)||0)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Number of Daughters",type:"number",value:r.numberOfDaughters,onChange:t=>a("numberOfDaughters",parseInt(t.target.value)||0)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Number of Dependents",type:"number",value:r.numberOfDependents,onChange:t=>a("numberOfDependents",parseInt(t.target.value)||0)})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{fullWidth:!0,label:"Employee Signature",placeholder:"Digital signature or name for signature",value:r.employeeSignature,onChange:t=>a("employeeSignature",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Date (DD/MM/YYYY)",value:r.signatureDate,onChange:t=>a("signatureDate",t.target.value)})})]})]});case 6:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"ICT Services Terms and Conditions"}),e.jsxs(Paper,{variant:"outlined",sx:{p:3,maxHeight:300,overflowY:"auto"},children:[e.jsx(Typography,{variant:"body2",paragraph:!0,children:"These terms form a legal agreement between you and the Company. You must accept all principles and regulations in the Company's acceptable use policies to access and use its ICT facilities and services."}),e.jsx(Typography,{variant:"body2",paragraph:!0,children:"TUNDI provides computing and ICT resources, including email, for official use to support the Company's objectives and administration. These facilities cannot be used for external projects or non-approved activities."}),e.jsx(Typography,{variant:"body2",paragraph:!0,children:"TUNDI reserves the right to monitor any data, including personal email and instant messages, sent, received, or accessed within office premises as needed."})]}),e.jsx(Box,{mt:2,children:e.jsx(s,{variant:r.acceptsICTTerms?"contained":"outlined",onClick:()=>a("acceptsICTTerms",!r.acceptsICTTerms),fullWidth:!0,children:r.acceptsICTTerms?"Terms Accepted ‚úì":"Accept ICT Terms and Conditions"})})]});case 7:return e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Induction/Orientation Checklist"}),e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,variant:r.orientationCompleted?"contained":"outlined",onClick:()=>a("orientationCompleted",!r.orientationCompleted),sx:{justifyContent:"flex-start",py:2},children:"‚úì Briefing about Organization, Office Rules/Regulation"})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,variant:r.introductionToTeam?"contained":"outlined",onClick:()=>a("introductionToTeam",!r.introductionToTeam),sx:{justifyContent:"flex-start",py:2},children:"‚úì Introduction with Department Head & Team members"})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{fullWidth:!0,label:"Other Orientation Activities",multiline:!0,rows:2,value:r.otherOrientation,onChange:t=>a("otherOrientation",t.target.value)})})]})]});case 8:return e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(Typography,{variant:"h6",fontWeight:"bold",mb:2,children:"Office Assets and Setup"})}),e.jsxs(Grid,{item:!0,xs:12,md:6,children:[e.jsx(s,{fullWidth:!0,variant:r.laptopIssued?"contained":"outlined",onClick:()=>a("laptopIssued",!r.laptopIssued),sx:{py:2,mb:2},children:r.laptopIssued?"Laptop Issued ‚úì":"Issue Laptop"}),r.laptopIssued&&e.jsx(TextField,{fullWidth:!0,label:"Laptop Brand Name",value:r.laptopBrand,onChange:t=>a("laptopBrand",t.target.value),sx:{mt:1}})]}),e.jsxs(Grid,{item:!0,xs:12,md:6,children:[e.jsx(s,{fullWidth:!0,variant:r.mobileIssued?"contained":"outlined",onClick:()=>a("mobileIssued",!r.mobileIssued),sx:{py:2,mb:2},children:r.mobileIssued?"Mobile Issued ‚úì":"Issue Mobile/Handset"}),r.mobileIssued&&e.jsx(TextField,{fullWidth:!0,label:"Mobile Details & SIM Number",value:r.mobileDetails,onChange:t=>a("mobileDetails",t.target.value),sx:{mt:1}})]}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(s,{fullWidth:!0,variant:r.emailIssued?"contained":"outlined",onClick:()=>a("emailIssued",!r.emailIssued),sx:{py:2},children:r.emailIssued?"Office Email Issued ‚úì":"Issue Office Email"})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(s,{fullWidth:!0,variant:r.hrisAccess?"contained":"outlined",onClick:()=>a("hrisAccess",!r.hrisAccess),sx:{py:2},children:r.hrisAccess?"HRIS Access Granted ‚úì":"Grant HRIS Access"})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Basic Salary",value:r.basicSalary,onChange:t=>a("basicSalary",t.target.value)})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Allowances",value:r.allowances,onChange:t=>a("allowances",t.target.value)})})]});default:return null}};return e.jsxs(Box,{sx:{height:"calc(100vh - 140px)",overflowY:"auto",p:2},children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,alignItems:"center",children:[e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h5",fontWeight:"900",children:"Staff Management"}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Manage employee leave requests and onboarding"})]}),e.jsxs(Box,{display:"flex",gap:1,children:[e.jsx(s,{variant:"outlined",startIcon:e.jsx(f,{size:16}),onClick:()=>L(!0),children:"New Leave Request"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(Pe,{size:16}),onClick:()=>P(!0),children:"New Employee"})]})]}),e.jsxs(Paper,{variant:"outlined",sx:{borderRadius:3},children:[e.jsxs(Je,{value:x,onChange:(t,i)=>je(i),sx:{borderBottom:1,borderColor:"divider"},children:[e.jsx(Tab,{label:`Leave Requests (${y.length})`,icon:e.jsx(me,{size:16}),iconPosition:"start"}),e.jsx(Tab,{label:`Employees (${W.length})`,icon:e.jsx(Fe,{size:16}),iconPosition:"start"}),e.jsx(Tab,{label:`Performance (${T.length})`,icon:e.jsx("span",{children:"üìä"}),iconPosition:"start"}),e.jsx(Tab,{label:`Attendance (${S.length})`,icon:e.jsx(pe,{size:16}),iconPosition:"start"}),e.jsx(Tab,{label:`Salary (${C.length})`,icon:e.jsx("span",{children:"üí∞"}),iconPosition:"start"}),e.jsx(Tab,{label:`Training (${I.length})`,icon:e.jsx("span",{children:"üéì"}),iconPosition:"start"}),e.jsx(Tab,{label:`Evaluations (${v.length})`,icon:e.jsx("span",{children:"üìã"}),iconPosition:"start"})]}),e.jsxs(Box,{p:3,children:[e.jsx(Paper,{variant:"outlined",sx:{p:2,mb:3,borderRadius:2},children:e.jsxs(Grid,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,placeholder:x===0?"Search by employee name or ID...":"Search by employee name or department...",value:h,onChange:t=>Ce(t.target.value),InputProps:{startAdornment:e.jsx(Be,{size:18,style:{marginRight:8,color:"#64748b"}})}})}),x===0&&e.jsx(Grid,{item:!0,xs:12,md:3,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{children:"Status Filter"}),e.jsxs(k,{value:u,label:"Status Filter",onChange:t=>Ie(t.target.value),children:[e.jsx(MenuItem,{value:"All",children:"All Status"}),e.jsx(MenuItem,{value:"Pending",children:"Pending"}),e.jsx(MenuItem,{value:"Approved",children:"Approved"}),e.jsx(MenuItem,{value:"Rejected",children:"Rejected"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:x===0?3:6,children:e.jsx(Box,{display:"flex",justifyContent:"flex-end",children:e.jsx(Oe,{title:"Export to PDF",children:e.jsx(IconButton,{children:e.jsx(Ee,{size:20})})})})})]})}),x===0&&e.jsx(Box,{children:we?e.jsx(Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:e.jsx(Typography,{variant:"h6",children:"Loading leave requests..."})}):e.jsxs(e.Fragment,{children:[e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:y.filter(t=>t.status==="Pending").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Pending Requests"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"success.main",fontWeight:"bold",children:y.filter(t=>t.status==="Approved").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Approved"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"error.main",fontWeight:"bold",children:y.filter(t=>t.status==="Rejected").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Rejected"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"info.main",fontWeight:"bold",children:y.reduce((t,i)=>t+i.numberOfDays,0)}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Leave Days"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Leave Type"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Dates"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Days"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Status"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:Se.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId," | ",t.department]}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:t.designation})]})}),e.jsx(n,{children:e.jsx(Chip,{label:t.leaveType,size:"small",variant:"outlined",sx:{fontWeight:"bold",fontSize:"0.75rem"}})}),e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsxs(Stack,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(me,{size:14}),e.jsxs(Typography,{variant:"body2",children:[new Date(t.startDate).toLocaleDateString()," - ",new Date(t.endDate).toLocaleDateString()]})]}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["Applied: ",new Date(t.createdAt).toLocaleDateString()]})]})}),e.jsx(n,{children:e.jsxs(Typography,{variant:"body2",fontWeight:"bold",children:[t.numberOfDays," days"]})}),e.jsx(n,{children:e.jsx(Chip,{icon:Le(t.status),label:t.status,size:"small",color:Re(t.status),variant:"filled",sx:{fontWeight:"bold",fontSize:"0.75rem"}})}),e.jsx(n,{align:"right",children:e.jsxs(Stack,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"outlined",size:"small",color:"success",startIcon:e.jsx(O,{size:16}),onClick:()=>re(t.id,"Approved"),children:"Approve"}),e.jsx(s,{variant:"outlined",size:"small",color:"error",startIcon:e.jsx(ge,{size:16}),onClick:()=>re(t.id,"Rejected"),children:"Reject"})]}),e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"View Details"})]})})]},t.id))})]})})})]})}),x===1&&e.jsxs(Box,{children:[e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:W.filter(t=>t.status==="Active").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Active Employees"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"info.main",fontWeight:"bold",children:new Set(W.map(t=>t.department)).size}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Departments"})]})})})]}),e.jsx(Grid,{container:!0,spacing:2,children:J.map(t=>e.jsx(Grid,{item:!0,xs:12,md:6,lg:4,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[e.jsxs(Box,{children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",children:t.employeeName}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:t.designation})]}),e.jsx(Chip,{label:t.status,size:"small",color:t.status==="Active"?"success":"default",variant:"outlined"})]}),e.jsx(Divider,{sx:{my:1}}),e.jsxs(Stack,{spacing:1,mt:2,children:[e.jsxs(Typography,{variant:"body2",children:[e.jsx("strong",{children:"Department:"})," ",t.department]}),e.jsxs(Typography,{variant:"body2",children:[e.jsx("strong",{children:"Email:"})," ",t.emailAddress]}),e.jsxs(Typography,{variant:"body2",children:[e.jsx("strong",{children:"Mobile:"})," ",t.personalMobile]}),e.jsxs(Typography,{variant:"body2",children:[e.jsx("strong",{children:"Joined:"})," ",new Date(t.joinedDate).toLocaleDateString()]})]})]})})},t.id))}),J.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No employees found"})]}),x===2&&e.jsxs(Box,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,children:[e.jsx(Typography,{variant:"h6",children:"Performance Records"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(z,{size:16}),children:"Add Performance Review"})]}),e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:T.length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Reviews Conducted"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsxs(Typography,{variant:"h4",color:"success.main",fontWeight:"bold",children:[T.length>0?(T.reduce((t,i)=>t+i.overallRating,0)/T.length).toFixed(1):"0","%"]}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Avg Rating"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Period"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Overall Rating"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Reviewer"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:Y.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId]})]})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.period})}),e.jsx(n,{children:e.jsx(Chip,{label:`${t.overallRating}%`,size:"small",color:t.overallRating>=80?"success":t.overallRating>=60?"warning":"error",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.reviewer})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"View Details"})})]},t.id))})]})})}),Y.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No performance records found"})]}),x===3&&e.jsxs(Box,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,children:[e.jsx(Typography,{variant:"h6",children:"Attendance Records"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(z,{size:16}),children:"Mark Attendance"})]}),e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:S.filter(t=>t.status==="Present").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Present Today"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"error.main",fontWeight:"bold",children:S.filter(t=>t.status==="Absent").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Absent Today"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"warning.main",fontWeight:"bold",children:S.filter(t=>t.status==="Late").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Late Arrivals"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"info.main",fontWeight:"bold",children:S.reduce((t,i)=>t+(i.hoursWorked||0),0).toFixed(1)}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Hours"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Date"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Status"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Hours"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Overtime"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:U.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId]})]})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:new Date(t.date).toLocaleDateString()})}),e.jsx(n,{children:e.jsx(Chip,{label:t.status,size:"small",color:t.status==="Present"?"success":t.status==="Absent"?"error":t.status==="Late"?"warning":"default",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.hoursWorked?`${t.hoursWorked}h`:"-"})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.overtimeHours?`${t.overtimeHours}h`:"-"})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"View Details"})})]},t.id))})]})})}),U.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No attendance records found"})]}),x===4&&e.jsxs(Box,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,children:[e.jsx(Typography,{variant:"h6",children:"Salary Management"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(z,{size:16}),children:"Process Salary"})]}),e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsxs(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:["‚Çπ",C.reduce((t,i)=>t+i.netSalary,0).toLocaleString()]}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Payroll"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"success.main",fontWeight:"bold",children:C.filter(t=>t.status==="Paid").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Paid Salaries"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"warning.main",fontWeight:"bold",children:C.filter(t=>t.status==="Pending").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Pending"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"error.main",fontWeight:"bold",children:C.filter(t=>t.status==="Overdue").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Overdue"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Period"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Basic Salary"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Net Salary"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Status"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Payment Date"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:X.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId]})]})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.payPeriod})}),e.jsx(n,{children:e.jsxs(Typography,{variant:"body2",children:["‚Çπ",t.basicSalary.toLocaleString()]})}),e.jsx(n,{children:e.jsxs(Typography,{variant:"body2",fontWeight:"bold",children:["‚Çπ",t.netSalary.toLocaleString()]})}),e.jsx(n,{children:e.jsx(Chip,{label:t.status,size:"small",color:t.status==="Paid"?"success":t.status==="Pending"?"warning":"error",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:new Date(t.paymentDate).toLocaleDateString()})}),e.jsx(n,{align:"right",children:e.jsxs(Stack,{direction:"row",spacing:1,children:[e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"Payslip"}),t.status==="Pending"&&e.jsx(s,{variant:"contained",size:"small",color:"success",children:"Process"})]})})]},t.id))})]})})}),X.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No salary records found"})]}),x===5&&e.jsxs(Box,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,children:[e.jsx(Typography,{variant:"h6",children:"Training Records"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(z,{size:16}),children:"Schedule Training"})]}),e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:I.length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Trainings"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"success.main",fontWeight:"bold",children:I.filter(t=>t.status==="Completed").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Completed"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"warning.main",fontWeight:"bold",children:I.filter(t=>t.status==="In Progress").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"In Progress"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsxs(Typography,{variant:"h4",color:"info.main",fontWeight:"bold",children:["‚Çπ",I.reduce((t,i)=>t+i.cost,0).toLocaleString()]}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Investment"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Course"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Type"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Duration"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Status"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Provider"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:Z.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId]})]})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.courseName})}),e.jsx(n,{children:e.jsx(Chip,{label:t.trainingType,size:"small",variant:"outlined",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsxs(Typography,{variant:"body2",children:[t.duration," hrs"]})}),e.jsx(n,{children:e.jsx(Chip,{label:t.status,size:"small",color:t.status==="Completed"?"success":t.status==="In Progress"?"warning":t.status==="Scheduled"?"info":"default",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.provider})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"View Details"})})]},t.id))})]})})}),Z.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No training records found"})]}),x===6&&e.jsxs(Box,{children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",mb:3,children:[e.jsx(Typography,{variant:"h6",children:"Employee Evaluations"}),e.jsx(s,{variant:"contained",startIcon:e.jsx(z,{size:16}),children:"New Evaluation"})]}),e.jsxs(Grid,{container:!0,spacing:2,mb:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"primary",fontWeight:"bold",children:v.length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Total Evaluations"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"success.main",fontWeight:"bold",children:v.filter(t=>t.status==="Approved").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Approved"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsx(Typography,{variant:"h4",color:"warning.main",fontWeight:"bold",children:v.filter(t=>t.status==="Submitted").length}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Pending Review"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{variant:"outlined",children:e.jsxs(c,{children:[e.jsxs(Typography,{variant:"h4",color:"info.main",fontWeight:"bold",children:[v.reduce((t,i)=>t+i.overallRating,0)/v.length||0,"%"]}),e.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Avg Rating"})]})})})]}),e.jsx(Paper,{variant:"outlined",sx:{borderRadius:3},children:e.jsx(TableContainer,{children:e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs(m,{sx:{bgcolor:"slate.50"},children:[e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Employee"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Evaluator"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Period"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Rating"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Status"}),e.jsx(n,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Next Review"}),e.jsx(n,{align:"right",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Actions"})]})}),e.jsx(A,{children:ee.map(t=>e.jsxs(m,{hover:!0,children:[e.jsx(n,{children:e.jsxs(Stack,{direction:"column",spacing:.5,children:[e.jsx(Typography,{variant:"body2",fontWeight:"bold",children:t.employeeName}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["ID: ",t.employeeId]})]})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.evaluator})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:t.period})}),e.jsx(n,{children:e.jsx(Chip,{label:`${t.overallRating}%`,size:"small",color:t.overallRating>=80?"success":t.overallRating>=60?"warning":"error",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Chip,{label:t.status,size:"small",color:t.status==="Approved"?"success":t.status==="Submitted"?"warning":"default",variant:"filled",sx:{fontWeight:"bold"}})}),e.jsx(n,{children:e.jsx(Typography,{variant:"body2",children:new Date(t.nextReviewDate).toLocaleDateString()})}),e.jsx(n,{align:"right",children:e.jsxs(Stack,{direction:"row",spacing:1,children:[e.jsx(s,{variant:"outlined",size:"small",startIcon:e.jsx(f,{size:16}),children:"View Form"}),t.status==="Submitted"&&e.jsx(s,{variant:"contained",size:"small",color:"success",startIcon:e.jsx(O,{size:16}),children:"Approve"})]})})]},t.id))})]})})}),ee.length===0&&e.jsx(Typography,{textAlign:"center",color:"text.secondary",py:4,children:"No evaluation forms found"})]})]})]}),e.jsxs(Me,{open:We,onClose:()=>L(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(qe,{sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(f,{className:"text-indigo-600"})," Submit Leave Request"]}),e.jsx(He,{children:e.jsx(Box,{component:"form",onSubmit:ie,sx:{mt:2},children:e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"Employee ID",value:l.employeeId,onChange:t=>p({...l,employeeId:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"Employee Name",value:l.employeeName,onChange:t=>p({...l,employeeName:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Department",value:l.department,onChange:t=>p({...l,department:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Designation",value:l.designation,onChange:t=>p({...l,designation:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{children:"Leave Type"}),e.jsxs(k,{value:l.leaveType,label:"Leave Type",onChange:t=>p({...l,leaveType:t.target.value}),children:[e.jsx(MenuItem,{value:"Annual",children:"Annual Leave"}),e.jsx(MenuItem,{value:"Sick",children:"Sick Leave"}),e.jsx(MenuItem,{value:"Home",children:"Home Leave"}),e.jsx(MenuItem,{value:"Maternity/Paternity/Parental",children:"Maternity/Paternity/Parental Leave"}),e.jsx(MenuItem,{value:"Bereavement",children:"Bereavement Leave"}),e.jsx(MenuItem,{value:"Other",children:"Other Leave"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:l.startDate,onChange:t=>p({...l,startDate:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:l.endDate,onChange:t=>p({...l,endDate:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{required:!0,fullWidth:!0,label:"Reason for Leave",multiline:!0,rows:3,value:l.reason,onChange:t=>p({...l,reason:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Work Handover To",placeholder:"Person name and signature",value:l.workHandoverTo,onChange:t=>p({...l,workHandoverTo:t.target.value})})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsx(TextField,{fullWidth:!0,label:"Alternate Contact Number",value:l.alternateContact,onChange:t=>p({...l,alternateContact:t.target.value})})})]})})}),e.jsxs(DialogActions,{sx:{p:3,bgcolor:"#f8fafc"},children:[e.jsx(s,{onClick:()=>L(!1),children:"Cancel"}),e.jsx(s,{variant:"contained",onClick:ie,children:"Submit Request"})]})]}),e.jsx(Paper,{sx:{position:"fixed",bottom:20,right:20,width:500,maxHeight:"80vh",overflowY:"auto",zIndex:1e3,display:De?"block":"none",borderRadius:2,boxShadow:3},children:e.jsxs(Box,{p:2,children:[e.jsxs(Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(Typography,{variant:"h6",fontWeight:"bold",children:"New Employee"}),e.jsx(IconButton,{onClick:()=>P(!1),children:"√ó"})]}),e.jsx(Stepper,{activeStep:b,alternativeLabel:!0,sx:{mb:4},children:B.map(t=>e.jsx(Step,{children:e.jsx(StepLabel,{children:t})},t))}),e.jsx(Divider,{sx:{mb:3}}),e.jsx(Box,{sx:{minHeight:400},children:ke()}),e.jsx(Divider,{sx:{mt:3,mb:2}}),e.jsxs(Box,{display:"flex",justifyContent:"space-between",children:[e.jsx(s,{onClick:Ge,disabled:b===0,children:"‚Üê Back"}),b===B.length-1?e.jsx(s,{variant:"contained",onClick:ze,endIcon:e.jsx($e,{}),children:"Submit Form"}):e.jsx(s,{variant:"contained",onClick:Ae,children:"Next ‚Üí"})]})]})})]})};export{Ke as default};
