import{r as h,j as e,B as i,P as v,n as N,t as p,v as y,w as b,x as g,y as d,z as k,A as r,J as T,D as w,e as f,f as D,h as L,K as c,I as o,k as P}from"./index-CewaSTRD.js";import{T as S,a as W,b as B}from"./tabs-b2piEQ7z.js";const M=({project:l,onProjectUpdate:m})=>{const[x,j]=h.useState("Pavement"),[u,n]=h.useState(!1),[s,t]=h.useState({category:"Pavement",date:new Date().toISOString().split("T")[0],startChainage:0,endChainage:0}),C=()=>{if(!s.layer)return;const a={id:`lin-${Date.now()}`,category:x,layer:s.layer,startChainage:Number(s.startChainage),endChainage:Number(s.endChainage),date:s.date,side:"Both",status:"In Progress"};m({...l,linearWorks:[...l.linearWorks||[],a]}),n(!1)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Linear Works Registry"}),e.jsxs(i,{onClick:()=>n(!0),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Record Progress"]})]}),e.jsx(S,{value:x,onValueChange:j,children:e.jsx(W,{children:e.jsx(B,{value:"Pavement",children:"Pavement"})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-4",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsx(N,{children:e.jsx(p,{children:e.jsxs(y,{children:[e.jsx(b,{children:e.jsxs(g,{children:[e.jsx(d,{children:"Date"}),e.jsx(d,{children:"Layer"}),e.jsx(d,{children:"Chainage (Km)"}),e.jsx(d,{className:"text-right",children:"Action"})]})}),e.jsxs(k,{children:[(l.linearWorks||[]).map(a=>e.jsxs(g,{children:[e.jsx(r,{children:a.date}),e.jsx(r,{children:a.layer}),e.jsx(r,{children:`${a.startChainage} - ${a.endChainage}`}),e.jsx(r,{className:"text-right",children:e.jsx(i,{variant:"ghost",size:"icon",children:e.jsx(T,{className:"h-4 w-4"})})})]},a.id)),(l.linearWorks||[]).length===0&&e.jsx(g,{children:e.jsx(r,{colSpan:4,className:"text-center",children:"No linear work recorded."})})]})]})})})})}),e.jsx(w,{open:u,onOpenChange:n,children:e.jsxs(f,{children:[e.jsx(D,{children:e.jsx(L,{children:"Log Daily Progress"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"work-layer",className:"text-right",children:"Work Layer"}),e.jsx(o,{id:"work-layer",value:s.layer||"",onChange:a=>t({...s,layer:a.target.value}),placeholder:"e.g. GSB, WMM...",className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"start-km",className:"text-right",children:"Start Km"}),e.jsx(o,{id:"start-km",type:"number",value:s.startChainage,onChange:a=>t({...s,startChainage:Number(a.target.value)}),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"end-km",className:"text-right",children:"End Km"}),e.jsx(o,{id:"end-km",type:"number",value:s.endChainage,onChange:a=>t({...s,endChainage:Number(a.target.value)}),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"date",className:"text-right",children:"Date"}),e.jsx(o,{id:"date",type:"date",value:s.date,onChange:a=>t({...s,date:a.target.value}),className:"col-span-3"})]})]}),e.jsxs(P,{children:[e.jsx(i,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(i,{onClick:C,disabled:!s.layer,children:"Commit Entry"})]})]})})]})};export{M as default};
